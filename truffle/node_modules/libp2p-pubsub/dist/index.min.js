!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Libp2PPubsub=e():t.Libp2PPubsub=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=37)}([function(t,e,n){"use strict";t.exports={encode:n(82),decode:n(83),encodingLength:n(84)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(i){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}t.exports=o},function(t,e,n){"use strict";t.exports=function(t,e){var n,r;function o(i){if(n=i,r)return o.abort();!function o(){for(var i=!0,u=!1;i;)if(u=!1,n(null,function(s,f){if(u=!0,s=s||r){if(i=!1,e)e(!0===s?null:s);else if(s&&!0!==s)throw s}else t&&!1===t(f)||r?(i=!1,n(r||!0,e||function(){})):i||o()}),!u)return void(i=!1)}()}return o.abort=function(t,e){if("function"==typeof t&&(e=t,t=!0),r=t||!0,n)return n(r,e||function(){})},o}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&("string"==typeof t?function(e){return e[t]}:"object"===r(t)&&"function"==typeof t.exec?function(e){var n=t.exec(e);return n&&n[0]}:t)}},function(t,e,n){"use strict";var r,o,i=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function f(t){if(r===setTimeout)return setTimeout(t,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(t){r=u}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var c,a=[],l=!1,p=-1;function h(){l&&c&&(l=!1,c.length?a=c.concat(a):p=-1,a.length&&d())}function d(){if(!l){var t=f(h);l=!0;for(var e=a.length;e;){for(c=a,a=[];++p<e;)c&&c[p].run();p=-1,e=a.length}c=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new y(t,e)),1!==a.length||l||f(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(t){var r=n(79),o=n(80),i=n(81);function u(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(u()<e)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=f.prototype:(null===t&&(t=new f(e)),t.length=e),t}function f(t,e,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);f.TYPED_ARRAY_SUPPORT?(t=e).__proto__=f.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(f.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(a(e),t=s(t,e<0?0:0|h(e)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function d(t,e){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return D(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=f.from(e,r)),f.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,o);if("number"==typeof e)return e&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,o){var i,u=1,s=t.length,f=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,s/=2,f/=2,n/=2}function c(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var a=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===a?0:i-a)){if(-1===a&&(a=i),i-a+1===f)return a*u}else-1!==a&&(i-=i-a),a=-1}else for(n+f>s&&(n=s-f),i=n;i>=0;i--){for(var l=!0,p=0;p<f;p++)if(c(t,i+p)!==c(e,p)){l=!1;break}if(l)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var u=0;u<r;++u){var s=parseInt(e.substr(2*u,2),16);if(isNaN(s))return u;t[n+u]=s}return u}function g(t,e,n,r){return q(D(e,t.length-n),t,n,r)}function w(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return w(t,e,n,r)}function x(t,e,n,r){return q(Y(e),t,n,r)}function _(t,e,n,r){return q(function(t,e){for(var n,r,o,i=[],u=0;u<t.length&&!((e-=2)<0);++u)n=t.charCodeAt(u),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,u,s,f,c=t[o],a=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(a=c);break;case 2:128==(192&(i=t[o+1]))&&(f=(31&c)<<6|63&i)>127&&(a=f);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&(f=(15&c)<<12|(63&i)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:i=t[o+1],u=t[o+2],s=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&s)&&(f=(15&c)<<18|(63&i)<<12|(63&u)<<6|63&s)>65535&&f<1114112&&(a=f)}null===a?(a=65533,l=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=l}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=k));return n}(r)}e.Buffer=f,e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},e.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=u(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,e,n){return c(null,t,e,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,e,n){return function(t,e,n,r){return a(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},f.allocUnsafe=function(t){return l(null,t)},f.allocUnsafeSlow=function(t){return l(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,e){if(!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=f.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o),o+=u.length}return r},f.byteLength=d,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,e,n,r,o){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),u=(n>>>=0)-(e>>>=0),s=Math.min(i,u),c=this.slice(r,o),a=t.slice(e,n),l=0;l<s;++l)if(c[l]!==a[l]){i=c[l],u=a[l];break}return i<u?-1:u<i?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},f.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return g(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=N(t[i]);return o}function T(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,o,i){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function F(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,i){return i||F(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||F(t,0,n,8),o.write(t,e,n,r,52,8),n+8}f.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=f.prototype;else{var o=e-t;n=new f(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},f.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},f.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},f.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},f.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},f.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),o.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),o.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),o.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),o.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},f.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},f.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},f.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var i=0,u=1,s=0;for(this[e]=255&t;++i<n&&(u*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/u>>0)-s&255;return e+n},f.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var i=n-1,u=1,s=0;for(this[e+i]=255&t;--i>=0&&(u*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/u>>0)-s&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},f.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!f.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},f.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var u=f.isBuffer(t)?t:D(new f(t,r).toString()),s=u.length;for(i=0;i<n-e;++i)this[i+e]=u[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function D(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(1))},function(t,e,n){"use strict";var r=n(41),o=n(23);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){"use strict";var r=n(19),o=n(42),i=n(43),u="[object Null]",s="[object Undefined]",f=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:u:f&&f in Object(t)?o(t):i(t)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==r(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var r,o=n(65),i=(r=o)&&r.__esModule?r:{default:r};var u="function"==typeof Symbol;function s(t){return u&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return s(t)?(0,i.default)(t):t},e.isAsync=s},function(t,e,n){"use strict";(function(t,r){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=l,e.wrap=p;var i,u=n(29),s=(i=u)&&i.__esModule?i:{default:i};var f,c=e.hasSetImmediate="function"==typeof t&&t,a=e.hasNextTick="object"===(void 0===r?"undefined":o(r))&&"function"==typeof r.nextTick;function l(t){setTimeout(t,0)}function p(t){return function(e){var n=(0,s.default)(arguments,1);t(function(){e.apply(null,n)})}}f=c?t:a?r.nextTick:l,e.default=p(f)}).call(this,n(30).setImmediate,n(4))},function(t,e,n){"use strict";var r=n(5),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function u(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=u),i(o,u),u.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},u.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},u.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";var r=n(32);t.exports=function(t,e){if(!t)return function(t,n){return t?r(n,t,e):n(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(e){return t[e]}));var n=0;return function(o,i){if(o)return r(i,o,e);n>=t.length?i(!0):i(null,t[n++])}}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e,n){n||(n=e,e=null);var o=r(function(n){e=t(e,n)},function(t){n(t,e)});return 2===arguments.length?function(t){t(null,function(r,i){if(r)return n(!0===r?null:r);e=i,o(t)})}:o}},function(t,e,n){"use strict";var r=n(34);t.exports=function(t){return t=r(t),function(e){return function n(r,o){for(var i,u=!0;u;)u=!1,i=!0,e(r,function(e,r){if(!e&&!t(r))return i?u=!0:n(e,o);o(e,r)}),i=!1}}}},function(t,e,n){"use strict";e.defined=function(t){return null!=t&&("number"!=typeof t||!isNaN(t))}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i="object"===("undefined"==typeof Reflect?"undefined":r(Reflect))?Reflect:null,u=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};o=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function f(){f.init.call(this)}t.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var c=10;function a(t){return void 0===t._maxListeners?f.defaultMaxListeners:t._maxListeners}function l(t,e,n,o){var i,u,s,f;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(n));if(void 0===(u=t._events)?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),s=u[e]),void 0===s)s=u[e]=n,++t._eventsCount;else if("function"==typeof s?s=u[e]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n),(i=a(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,f=c,console&&console.warn&&console.warn(f)}return t}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,u(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):y(o,o.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},f.prototype.getMaxListeners=function(){return a(this)},f.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var f=o[t];if(void 0===f)return!1;if("function"==typeof f)u(f,this,e);else{var c=f.length,a=y(f,c);for(n=0;n<c;++n)u(a[n],this,e)}return!0},f.prototype.addListener=function(t,e){return l(this,t,e,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(t,e){return l(this,t,e,!0)},f.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(e));return this.on(t,p(this,t,e)),this},f.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(e));return this.prependListener(t,p(this,t,e)),this},f.prototype.removeListener=function(t,e){var n,o,i,u,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(e));if(void 0===(o=this._events))return this;if(void 0===(n=o[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,u=n.length-1;u>=0;u--)if(n[u]===e||n[u].listener===e){s=n[u].listener,i=u;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(o[t]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",t,s||e)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},f.prototype.listeners=function(t){return h(this,t,!0)},f.prototype.rawListeners=function(t){return h(this,t,!1)},f.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},f.prototype.listenerCount=d,f.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function t(e){var n=arguments.length;if("function"==typeof e&&1===e.length){for(var o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e){if(null==o)throw new TypeError("partial sink should only be called once!");var r=o;switch(o=null,n){case 1:return t(e,r[0]);case 2:return t(e,r[0],r[1]);case 3:return t(e,r[0],r[1],r[2]);case 4:return t(e,r[0],r[1],r[2],r[3]);default:return r.unshift(e),t.apply(null,r)}}}var u=e;u&&"function"==typeof u.source&&(u=u.source);for(i=1;i<n;i++){var s=arguments[i];"function"==typeof s?u=s(u):s&&"object"===r(s)&&(s.sink(u),u=s.source)}return u}},function(t,e,n){"use strict";t.exports=function(){return function(t,e){e(!0)}}},function(t,e,n){"use strict";var r=n(20).Symbol;t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(21),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,u=o||i||Function("return this")();t.exports=u},function(t,e,n){"use strict";(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(1))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=t[e+o];return r},t.exports=e.default},function(t,e,n){"use strict";(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(67),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||void 0,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||void 0}).call(this,n(1))},function(t,e,n){"use strict";t.exports=function(t,e){"function"==typeof t&&(e=t,t=!1);var n,r,o,i=[];function u(t,e){t&&(n=t,r&&a(n)),r=e,c()}function s(t){o=o||t||!0,c()}function f(t){o||(r?a(n,t):i.push(t))}if(t)return{push:f,end:s,source:u,buffer:i};return u.push=f,u.end=s,u.buffer=i,u;function c(){r&&(n?a(n):!i.length&&o?a(o):i.length&&a(null,i.shift()))}function a(t,n){var o=r;if(t&&e){var i=e;e=null,i(!0===t?null:t)}r=null,o(t,n)}}},function(t,e,n){"use strict";t.exports=function(t,e,n){t(e),n&&n(!0===e?null:e)}},function(t,e,n){"use strict";var r=n(32);t.exports=function(t,e){return function(n,o){if(n)return r(o,n,e);if(null!=t){var i=t;t=null,o(null,i)}else o(!0)}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(3);function i(t){return t}t.exports=function(t){return"object"===r(t)&&"function"==typeof t.test?function(e){return t.test(e)}:o(t)||i}},function(t,e,n){"use strict";function r(t){return t}var o=n(3),i=n(14);t.exports=function(t,e){t=o(t)||r;var n={};return i(function(r){var o=t(r);return n[o]?!!e:(n[o]=!0,!e)})}},function(t,e,n){"use strict";var r=n(109),o=r(n(120)),i=r(n(121));(e=t.exports).rpc=o,e.td=i},function(t,e,n){t.exports=n(38)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var f=n(16),c=n(17),a=n(18),l=n(39),p=n(70),h=n(72),d=n(75),y=n(76),m=n(36),v=n(122),b=function(t){function e(t,n,o){var u,f,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f=this,(u=!(c=i(e).call(this))||"object"!==r(c)&&"function"!=typeof c?s(f):c).log=h(t),u.log.err=h("".concat(t,":error")),u.multicodec=n,u.libp2p=o,u.started=!1,u.topics=new Map,u.seenCache=new p,u.peers=new Map,u._dials=new Set,u._onConnection=u._onConnection.bind(s(s(u))),u._dialPeer=u._dialPeer.bind(s(s(u))),u}var n,m,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,f),n=e,(m=[{key:"_addPeer",value:function(t){var e=this,n=t.info.id.toB58String(),r=this.peers.get(n);return r||(this.log("new peer",n),this.peers.set(n,t),r=t,t.once("close",function(){return e._removePeer(t)})),++r._references,r}},{key:"_removePeer",value:function(t){var e=t.info.id.toB58String();return this.log("remove",e,t._references),0==--t._references&&(this.log("delete peer",e),this.peers.delete(e)),t}},{key:"_dialPeer",value:function(t,e){var n=this;e=e||function(){};var r=t.id.toB58String(),o=this.peers.get(r);return o&&o.isConnected?v(function(){return e()}):this._dials.has(r)?(this.log("already dialing %s, ignoring dial attempt",r),v(function(){return e()})):(this._dials.add(r),this.log("dialing %s",r),void this.libp2p.dialProtocol(t,this.multicodec,function(o,i){n.log("dial to %s complete",r);var u=!n._dials.has(r);return n._dials.delete(r),o?(n.log.err(o),e()):u?(n.log("pubsub was stopped, not processing dial to %s",r),e()):void n._onDial(t,i,e)}))}},{key:"_onDial",value:function(t,e,n){var r=t.id.toB58String();this.log("connected",r),this._addPeer(new y(t)).attachConnection(e),v(function(){return n()})}},{key:"_onConnection",value:function(t,e){var n=this;e.getPeerInfo(function(t,r){if(t)return n.log.err("Failed to identify incomming conn",t),c(a(),e);var o=r.id.toB58String(),i=n._addPeer(new y(r));n._processConnection(o,e,i)})}},{key:"_processConnection",value:function(t,e,n){throw d("_processConnection must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}},{key:"_onConnectionEnd",value:function(t,e,n){n&&"socket hang up"!==n.message&&this.log.err(n),this.log("connection ended",t,n?n.message:""),this._removePeer(e)}},{key:"publish",value:function(t,e){throw d("publish must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}},{key:"subscribe",value:function(t){throw d("subscribe must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}},{key:"unsubscribe",value:function(t){throw d("unsubscribe must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}},{key:"start",value:function(t){var e=this;if(this.started)return v(function(){return t(new Error("already started"))});this.log("starting"),this.libp2p.handle(this.multicodec,this._onConnection),this.libp2p.on("peer:connect",this._dialPeer);var n=Object.values(this.libp2p.peerBook.getAll());l(n,function(t,n){return e._dialPeer(t,n)},function(n){v(function(){e.log("started"),e.started=!0,t(n)})})}},{key:"stop",value:function(t){var e=this;if(!this.started)return v(function(){return t(new Error("not started yet"))});this.libp2p.unhandle(this.multicodec),this.libp2p.removeListener("peer:connect",this._dialPeer),this._dials=new Set,this.log("stopping"),l(this.peers.values(),function(t,e){return t.close(e)},function(n){if(n)return t(n);e.log("stopped"),e.peers=new Map,e.started=!1,t()})}}])&&o(n.prototype,m),b&&o(n,b),e}();t.exports=b,t.exports.message=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){(0,r.default)(t,(0,o.default)((0,i.default)(e)),n)};var r=u(n(40)),o=u(n(69)),i=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){((0,r.default)(t)?p:h)(t,(0,a.default)(e),n)};var r=l(n(6)),o=l(n(24)),i=l(n(44)),u=l(n(68)),s=l(n(25)),f=l(n(26)),c=l(n(28)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n){n=(0,f.default)(n||s.default);var r=0,i=0,u=t.length;function a(t,e){t?n(t):++i!==u&&e!==o.default||n(null)}for(0===u&&n(null);r<u;r++)e(t[r],r,(0,c.default)(a))}var h=(0,u.default)(i.default,1/0);t.exports=e.default},function(t,e,n){"use strict";var r=n(7),o=n(22),i="[object AsyncFunction]",u="[object Function]",s="[object GeneratorFunction]",f="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==u||e==s||e==i||e==f}},function(t,e,n){"use strict";var r=n(19),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(f){}var o=u.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){(0,r.default)(e)(t,(0,o.default)(n),i)};var r=i(n(45)),o=i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,n,f){if(f=(0,o.default)(f||r.default),t<=0||!e)return f(null);var c=(0,i.default)(e),a=!1,l=0,p=!1;function h(t,e){if(l-=1,t)a=!0,f(t);else{if(e===s.default||a&&l<=0)return a=!0,f(null);p||d()}}function d(){for(p=!0;l<t&&!a;){var e=c();if(null===e)return a=!0,void(l<=0&&f(null));l+=1,n(e.value,e.key,(0,u.default)(h))}p=!1}d()}};var r=f(n(25)),o=f(n(26)),i=f(n(46)),u=f(n(28)),s=f(n(24));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,r.default)(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e=(0,o.default)(t);return e?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(e):(n=t,u=(0,i.default)(n),s=-1,f=u.length,function(){var t=u[++s];return s<f?{value:n[t],key:t}:null});var n,u,s,f};var r=u(n(6)),o=u(n(47)),i=u(n(48));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return r&&t[r]&&t[r]()};var r="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,n){"use strict";var r=n(49),o=n(61),i=n(6);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){"use strict";var r=n(50),o=n(51),i=n(53),u=n(54),s=n(56),f=n(57),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),a=!n&&o(t),l=!n&&!a&&u(t),p=!n&&!a&&!l&&f(t),h=n||a||l||p,d=h?r(t.length,String):[],y=d.length;for(var m in t)!e&&!c.call(t,m)||h&&("length"==m||l&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,y))||d.push(m);return d}},function(t,e,n){"use strict";t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){"use strict";var r=n(52),o=n(8),i=Object.prototype,u=i.hasOwnProperty,s=i.propertyIsEnumerable,f=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!s.call(t,"callee")};t.exports=f},function(t,e,n){"use strict";var r=n(7),o=n(8),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){"use strict";var r=Array.isArray;t.exports=r},function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(20),i=n(55),u="object"==r(e)&&e&&!e.nodeType&&e,s=u&&"object"==r(t)&&t&&!t.nodeType&&t,f=s&&s.exports===u?o.Buffer:void 0,c=(f?f.isBuffer:void 0)||i;t.exports=c}).call(this,n(27)(t))},function(t,e,n){"use strict";t.exports=function(){return!1}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=r(t);return!!(e=null==e?o:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){"use strict";var r=n(58),o=n(59),i=n(60),u=i&&i.isTypedArray,s=u?o(u):r;t.exports=s},function(t,e,n){"use strict";var r=n(7),o=n(23),i=n(8),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(21),i="object"==r(e)&&e&&!e.nodeType&&e,u=i&&"object"==r(t)&&t&&!t.nodeType&&t,s=u&&u.exports===i&&o.process,f=function(){try{var t=u&&u.require&&u.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=f}).call(this,n(27)(t))},function(t,e,n){"use strict";var r=n(62),o=n(63),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){"use strict";var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,n){"use strict";var r=n(64)(Object.keys,Object);t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(function(e,n){var o;try{o=t.apply(this,e)}catch(i){return n(i)}(0,r.default)(o)&&"function"==typeof o.then?o.then(function(t){s(n,null,t)},function(t){s(n,t.message?t:new Error(t))}):n(null,o)})};var r=u(n(22)),o=u(n(66)),i=u(n(10));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){try{t(e,n)}catch(r){(0,i.default)(f,r)}}function f(t){throw t}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,i.default)(arguments),n=e.pop();t.call(this,e,n)}};var r,o=n(29),i=(r=o)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){"use strict";(function(t,e){!function(t,n){if(!t.setImmediate){var r,o,i,u,s,f=1,c={},a=!1,l=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,r=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(u="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(u)&&d(+e.data.slice(u.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(u+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[f]=o,r(f),f++},p.clearImmediate=h}function h(t){delete c[t]}function d(t){if(a)setTimeout(d,0,t);else{var e=c[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{h(t),a=!1}}}}}("undefined"==typeof self?void 0===t?void 0:t:self)}).call(this,n(1),n(4))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(n,r,o){return t(n,e,r,o)}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,n,r){return t(e,r)}},t.exports=e.default},function(t,e,n){"use strict";var r=n(71);t.exports=function t(e){var n=this;if(!(this instanceof t))return new t(e);e=e||{};var o=e.validity||30;var i=new Map;var u=r(function(){i.forEach(function(t,e){var n,r,u=t.validity||o,s=(n=t.timestamp,r=(new Date).getTime()-n.getTime(),Math.floor(r/1e3));s>u&&i.delete(e)})},200);this.put=function(t,e,r){n.has(t)||i.set(t,{value:e,timestamp:new Date,validity:r}),u()};this.get=function(t){if(i.has(t))return i.get(t).value;throw new Error("key does not exist")};this.has=function(t){return i.has(t)}}},function(t,e,n){"use strict";(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="Expected a function",o=NaN,i="[object Symbol]",u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,a=parseInt,l="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,p="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,h=l||p||Function("return this")(),d=Object.prototype.toString,y=Math.max,m=Math.min,v=function(){return h.Date.now()};function b(t,e,n){var o,i,u,s,f,c,a=0,l=!1,p=!1,h=!0;if("function"!=typeof t)throw new TypeError(r);function d(e){var n=o,r=i;return o=i=void 0,a=e,s=t.apply(r,n)}function b(t){var n=t-c;return void 0===c||n>=e||n<0||p&&t-a>=u}function w(){var t=v();if(b(t))return x(t);f=setTimeout(w,function(t){var n=e-(t-c);return p?m(n,u-(t-a)):n}(t))}function x(t){return f=void 0,h&&o?d(t):(o=i=void 0,s)}function _(){var t=v(),n=b(t);if(o=arguments,i=this,c=t,n){if(void 0===f)return function(t){return a=t,f=setTimeout(w,e),l?d(t):s}(c);if(p)return f=setTimeout(w,e),d(c)}return void 0===f&&(f=setTimeout(w,e)),s}return e=E(e)||0,g(n)&&(l=!!n.leading,u=(p="maxWait"in n)?y(E(n.maxWait)||0,e):u,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==f&&clearTimeout(f),a=0,o=c=i=f=void 0},_.flush=function(){return void 0===f?s:x(v())},_}function g(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function w(t){return"symbol"==n(t)||function(t){return!!t&&"object"==n(t)}(t)&&d.call(t)==i}function E(t){if("number"==typeof t)return t;if(w(t))return o;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=f.test(t);return n||c.test(t)?a(t.slice(2),n?2:8):s.test(t)?o:+t}t.exports=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(r);return g(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),b(t,e,{leading:o,maxWait:e,trailing:i})}}).call(this,n(1))},function(t,e,n){"use strict";(function(r){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(n){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(73)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(4))},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return o.colors[Math.abs(e)%o.colors.length]}function o(t){var n;function r(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(r.enabled){var u=r,s=Number(new Date),f=s-(n||s);u.diff=f,u.prev=n,u.curr=s,n=s,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var r=o.formatters[n];if("function"==typeof r){var i=e[c];t=r.call(u,i),e.splice(c,1),c--}return t}),o.formatArgs.call(u,e),(u.log||o.log).apply(u,e)}}return r.namespace=t,r.enabled=o.enabled(t),r.useColors=o.useColors(),r.color=e(t),r.destroy=i,r.extend=u,"function"==typeof o.init&&o.init(r),o.instances.push(r),r}function i(){var t=o.instances.indexOf(this);return-1!==t&&(o.instances.splice(t,1),!0)}function u(t,e){var n=o(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(t){return t instanceof Error?t.stack||t.message:t},o.disable=function(){var t=[].concat(r(o.names.map(s)),r(o.skips.map(s).map(function(t){return"-"+t}))).join(",");return o.enable(""),t},o.enable=function(t){var e;o.save(t),o.names=[],o.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+t.substr(1)+"$")):o.names.push(new RegExp("^"+t+"$")));for(e=0;e<o.instances.length;e++){var i=o.instances[e];i.enabled=o.enabled(i.namespace)}},o.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=o.skips.length;e<n;e++)if(o.skips[e].test(t))return!1;for(e=0,n=o.names.length;e<n;e++)if(o.names[e].test(t))return!0;return!1},o.humanize=n(74),Object.keys(t).forEach(function(e){o[e]=t[e]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=e,o.enable(o.load()),o}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=1e3,i=60*o,u=60*i,s=24*u,f=7*s,c=365.25*s;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var n=r(t);if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"weeks":case"week":case"w":return n*f;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=s)return a(t,e,s,"day");if(e>=u)return a(t,e,u,"hour");if(e>=i)return a(t,e,i,"minute");if(e>=o)return a(t,e,o,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=s)return Math.round(t/s)+"d";if(e>=u)return Math.round(t/u)+"h";if(e>=i)return Math.round(t/i)+"m";if(e>=o)return Math.round(t/o)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t,e,n){var o,i=t instanceof Error?t:new Error(t);if("object"===r(e)?n=e:null!=e&&(i.code=e),n)for(o in n)i[o]=n[o];return i}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=n(77),c=n(31),a=n(88),l=n(108),p=n(16),h=n(36).rpc.RPC,d=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,u(e).call(this))).info=t,n.conn=null,n.topics=new Set,n.stream=null,n._references=0,n}var n,r,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,p),n=e,(r=[{key:"write",value:function(t){if(!this.isWritable){var e=this.info.id.toB58String();throw new Error("No writable connection to "+e)}this.stream.push(t)}},{key:"attachConnection",value:function(t){var e=this;this.conn=t,this.stream=new c,a(this.stream,f.encode(),t,a.onEnd(function(){e.conn=null,e.stream=null,e.emit("close")})),this.emit("connection")}},{key:"_sendRawSubscriptions",value:function(t,e){if(0!==t.size){var n=[];t.forEach(function(t){n.push({subscribe:e,topicCID:t})}),this.write(h.encode({subscriptions:n}))}}},{key:"sendSubscriptions",value:function(t){this._sendRawSubscriptions(t,!0)}},{key:"sendUnsubscriptions",value:function(t){this._sendRawSubscriptions(t,!1)}},{key:"sendMessages",value:function(t){this.write(h.encode({msgs:t}))}},{key:"updateSubscriptions",value:function(t){var e=this;t.forEach(function(t){t.subscribe?e.topics.add(t.topicCID):e.topics.delete(t.topicCID)})}},{key:"close",value:function(t){var e=this;this._references=1,this.stream&&this.stream.end(),l(function(){e.conn=null,e.stream=null,e.emit("close"),t()})}},{key:"isConnected",get:function(){return Boolean(this.conn)}},{key:"isWritable",get:function(){return Boolean(this.stream)}}])&&o(n.prototype,r),d&&o(n,d),e}();t.exports=d},function(t,e,n){"use strict";var r=n(78),o=n(85);e.encode=r,e.decode=o.decode,e.decodeFromReader=o.decodeFromReader},function(t,e,n){"use strict";var r=n(11).Buffer;t.exports=function(t){t=Object.assign({fixed:!1},t||{});var e=n(0),o=t.fixed?null:i(),u=0,s=!1;return function(n){return function(f,c){if(f&&(s=f),s)return c(s);n(null,function(n,f){return n&&(s=n),s?c(s):r.isBuffer(f)?(t.fixed?(a=r.alloc(4)).writeInt32BE(f.length,0):(e.encode(f.length,o,u),u+=e.encode.bytes,a=o.slice(u-e.encode.bytes,u),o.length-u<100&&(o=i(),u=0)),void c(null,r.concat([a,f]))):(s=new Error("data must be a buffer"),c(s));var a})}}};var o=10240;function i(){return r.alloc(o)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],u=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,u)),f=0,a=u>0?r-4:r,l=0;l<a;l+=4)e=o[t.charCodeAt(l)]<<18|o[t.charCodeAt(l+1)]<<12|o[t.charCodeAt(l+2)]<<6|o[t.charCodeAt(l+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;2===u&&(e=o[t.charCodeAt(l)]<<2|o[t.charCodeAt(l+1)]>>4,s[f++]=255&e);1===u&&(e=o[t.charCodeAt(l)]<<10|o[t.charCodeAt(l+1)]<<4|o[t.charCodeAt(l+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],u=0,s=n-o;u<s;u+=16383)i.push(a(t,u,u+16383>s?s:u+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,f=u.length;s<f;++s)r[s]=u[s],o[u.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function a(t,e,n){for(var o,i,u=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),u.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return u.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e,n){"use strict";e.read=function(t,e,n,r,o){var i,u,s=8*o-r-1,f=(1<<s)-1,c=f>>1,a=-7,l=n?o-1:0,p=n?-1:1,h=t[e+l];for(l+=p,i=h&(1<<-a)-1,h>>=-a,a+=s;a>0;i=256*i+t[e+l],l+=p,a-=8);for(u=i&(1<<-a)-1,i>>=-a,a+=r;a>0;u=256*u+t[e+l],l+=p,a-=8);if(0===i)i=1-c;else{if(i===f)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,r),i-=c}return(h?-1:1)*u*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var u,s,f,c=8*i-o-1,a=(1<<c)-1,l=a>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,u=a):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),(e+=u+l>=1?p/f:p*Math.pow(2,1-l))*f>=2&&(u++,f/=2),u+l>=a?(s=0,u=a):u+l>=1?(s=(e*f-1)*Math.pow(2,o),u+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(u=u<<o|s,c+=o;c>0;t[n+h]=255&u,h+=d,u/=256,c-=8);t[n+h-d]|=128*y}},function(t,e,n){"use strict";var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,n){"use strict";t.exports=function t(e,n,u){n=n||[];u=u||0;var s=u;for(;e>=i;)n[u++]=255&e|r,e/=128;for(;e&o;)n[u++]=255&e|r,e>>>=7;n[u]=0|e;t.bytes=u-s+1;return n};var r=128,o=-128,i=Math.pow(2,31)},function(t,e,n){"use strict";t.exports=function t(e,n){var i,u=0,n=n||0,s=0,f=n,c=e.length;do{if(f>=c)throw t.bytes=0,new RangeError("Could not decode varint");i=e[f++],u+=s<28?(i&o)<<s:(i&o)*Math.pow(2,s),s+=7}while(i>=r);t.bytes=f-n;return u};var r=128,o=127},function(t,e,n){"use strict";var r=Math.pow(2,7),o=Math.pow(2,14),i=Math.pow(2,21),u=Math.pow(2,28),s=Math.pow(2,35),f=Math.pow(2,42),c=Math.pow(2,49),a=Math.pow(2,56),l=Math.pow(2,63);t.exports=function(t){return t<r?1:t<o?2:t<i?3:t<u?4:t<s?5:t<f?6:t<c?7:t<a?8:t<l?9:10}},function(t,e,n){"use strict";var r=n(0),o=n(86),i=n(11).Buffer,u=n(31);e.decode=function(t){var e=new o,n=u(function(t){e.abort(t)});return function(r){return e(r),function r(){c(e,t,function(t,e){if(t)return n.end(t);n.push(e),r()})}(),n}},e.decodeFromReader=function(t,e,n){"function"==typeof e&&(n=e,e={});c(t,e,function(t,e){if(t)return n(!0===t?new Error("Unexpected end of input from reader."):t);n(null,e)})};var s=function(t){return!(128&t)},f=4194304;function c(t,e,n){(e=Object.assign({fixed:!1,maxLength:f},e||{})).fixed?function(t,e,n){t.read(4,function(r,o){if(r)return n(r);var i=o.readInt32BE(0);if(i>e)return n(new Error("size longer than max permitted length of "+e+"!"));a(t,i,n)})}(t,e.maxLength,n):function(t,e,n){var o=[];0===o.length&&function u(){t.read(1,function(f,c){if(f)return n(f);if(o.push(c),!c||s(c[0])){var l=r.decode(i.concat(o));if(l>e)return n(new Error("size longer than max permitted length of "+e+"!"));a(t,l,function(t,e){return t?n(t):(o=[],e.length<l?n(new Error("Message length does not match prefix specified length.")):void n(null,e))})}else u()})}()}(t,e.maxLength,n)}function a(t,e,n){t.read(e,function(t,e){if(t)return n(t);n(null,e)})}},function(t,e,n){"use strict";var r=n(87);function o(t){return"function"==typeof t}function i(t,e){return e?function(n,r){var o=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),r)},e);t(n,function(t,e){clearTimeout(o),r(t,e)})}:t}t.exports=function(t){var e,n,u,s,f,c=[],a=!1,l=r();function p(){for(;c.length;)if(null==c[0].length&&l.has(1))c.shift().cb(null,l.get());else if(l.has(c[0].length)){var t=c.shift();t.cb(null,l.get(t.length))}else if(1==u&&c[0].length&&l.length<c[0].length){var e="stream ended with:"+l.length+" but wanted:"+c[0].length;c.shift().cb(new Error(e))}else{if(!u)return!!c.length;c.shift().cb(u)}return c.length||!l.has(1)||f}function h(){p()&&!a&&(!e||a||s||(a=!0,n(null,function(t,e){if(a=!1,t)return u=t,p();l.add(e),h()})))}function d(r){if(f){for(;c.length;)c.shift().cb(f);return cb&&cb(f)}n=i(r,t),e=r,h()}return d.abort=function(t,n){f=t||!0,e?(a=!0,e(f,function(){for(;c.length;)c.shift().cb(f);n&&n(f)})):n()},d.read=function(n,r,u){if(o(r)&&(u=r,r=t),!o(u))return s=!0,function(t,n){if(a||l.has(1)){if(t)return e(t,n);c.push({length:null,cb:n}),h()}else i(e,r)(t,function(t,e){n(t,e)})};var f;c.push({length:(f=n,Number.isFinite(f)?n:null),cb:u}),h()},d}},function(t,e,n){"use strict";(function(e){t.exports=function(){var t=[],n=0;return{length:n,data:this,add:function(r){if(!e.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=n+=r.length,t.push(r),this},has:function(t){return null==t?n>0:n>=t},get:function(r){var o;if(null==r||r===n){n=0;var i=t;return t=[],1==i.length?i[0]:e.concat(i)}if(t.length>1&&r<=(o=t[0].length)){var u=t[0].slice(0,r);return r===o?t.shift():t[0]=t[0].slice(r,o),n-=r,u}if(r<n){for(var s=[],f=0;f+t[0].length<r;){var c=t.shift();f+=c.length,s.push(c)}return f<r&&(s.push(t[0].slice(0,r-f)),t[0]=t[0].slice(r-f,t[0].length),this.length=n-=r),e.concat(s)}throw new Error("could not get "+r+" bytes")}}}}).call(this,n(5).Buffer)},function(t,e,n){"use strict";var r=n(89),o=n(94),i=n(100);for(var u in(e=t.exports=n(17)).pull=e,r)e[u]=r[u];for(var u in i)e[u]=i[u];for(var u in o)e[u]=o[u]},function(t,e,n){"use strict";t.exports={keys:n(90),once:n(33),values:n(12),count:n(91),infinite:n(92),empty:n(18),error:n(93)}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t){return r(Object.keys(t))}},function(t,e,n){"use strict";t.exports=function(t){var e=0;return t=t||1/0,function(n,r){return n?r&&r(n):e>t?r(!0):void r(null,e++)}}},function(t,e,n){"use strict";t.exports=function(t){return t=t||Math.random,function(e,n){return e?n&&n(e):n(null,t())}}},function(t,e,n){"use strict";t.exports=function(t){return function(e,n){n(t)}}},function(t,e,n){"use strict";t.exports={drain:n(2),onEnd:n(95),log:n(96),find:n(97),reduce:n(13),collect:n(98),concat:n(99)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){return r(null,t)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){return r(function(t){console.log(t)},t)}},function(t,e,n){"use strict";function r(t){return t}var o=n(3),i=n(2);t.exports=function(t,e){var n=!1;return e?t=o(t)||r:(e=t,t=r),i(function(r){if(t(r))return n=!0,e(null,r),!1},function(t){n||e(!0===t?null:t,null)})}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t){return r(function(t,e){return t.push(e),t},[],t)}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t){return r(function(t,e){return t+e},"",t)}},function(t,e,n){"use strict";t.exports={map:n(101),asyncMap:n(102),filter:n(14),filterNot:n(103),through:n(104),take:n(105),unique:n(35),nonUnique:n(106),flatten:n(107)}},function(t,e,n){"use strict";function r(t){return t}var o=n(3);t.exports=function(t){return t?(t=o(t),function(e){return function(n,r){e(n,function(n,o){try{o=n?null:t(o)}catch(i){return e(i,function(){return r(i)})}r(n,o)})}}):r}},function(t,e,n){"use strict";function r(t){return t}var o=n(3);t.exports=function(t){if(!t)return r;t=o(t);var e,n,i=!1;return function(r){return function o(u,s){if(n)return s(n);u?(n=u,r(u,i?function(t){i?e=s:s(u)}:function(t){s(u)})):r(null,function(r,u){r?s(r):n?s(n):(i=!0,t(u,function(t,r){i=!1,n?(s(n),e&&e(n)):t?o(t,s):s(null,r)}))})}}}},function(t,e,n){"use strict";var r=n(34),o=n(14);t.exports=function(t){return t=r(t),o(function(e){return!t(e)})}},function(t,e,n){"use strict";t.exports=function(t,e){var n=!1;function r(t){!n&&e&&(n=!0,e(!0===t?null:t))}return function(e){return function(n,o){return n&&r(n),e(n,function(e,n){e?r(e):t&&t(n),o(e,n)})}}}},function(t,e,n){"use strict";t.exports=function(t,e){var n=(e=e||{}).last||!1,r=!1;if("number"==typeof t){n=!0;var o=t;t=function(){return--o}}return function(e){function o(t){e(!0,function(e){n=!1,t(e||!0)})}return function(i,u){r&&!i?n?o(u):u(r):(r=i)?e(r,u):e(null,function(e,i){(r=r||e)?u(r):t(i)?u(null,i):(r=!0,n?u(null,i):o(u))})}}}},function(t,e,n){"use strict";var r=n(35);t.exports=function(t){return r(t,!0)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(12),i=n(33);t.exports=function(){return function(t){var e;return function(n,u){function s(){e(null,function(e,n){!0===e?f():e?t(!0,function(t){u(e)}):u(null,n)})}function f(){e=null,t(null,function(t,n){if(t)return u(t);Array.isArray(n)||n&&"object"===r(n)?n=o(n):"function"!=typeof n&&(n=i(n)),e=n,s()})}n?e?e(n,function(e){t(e||n,u)}):t(n,u):e?s():f()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(110),i=n(114);t.exports=function(t,n){if(n||(n={}),!t)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var u="object"!==r(t)||e.isBuffer(t)?o.parse(t):t,s=function(){var t=this;i(u,n.encodings||{}).forEach(function(e){t[e.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(n){e[n]=t[n].value}),e}(e.values)||e})};return s.prototype.toString=function(){return o.stringify(u)},s.prototype.toJSON=function(){return u},new s}}).call(this,n(5).Buffer)},function(t,e,n){"use strict";var r=n(111),o=n(113);t.exports=r,t.exports.parse=r,t.exports.stringify=o},function(t,e,n){"use strict";var r=n(112),o=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(t){for(var e={};t.length;)switch(t[0]){case"[":case",":t.shift();var n=t.shift();if("("===n&&(n=t.shift(),t.shift()),"="!==t[0])throw new Error("Unexpected token in field options: "+t[0]);if(t.shift(),"]"===t[0])throw new Error("Unexpected ] in field option");e[n]=t.shift();break;case"]":return t.shift(),e;default:throw new Error("Unexpected token in field options: "+t[0])}throw new Error("No closing tag for field options")},u=function(t){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};t.length;)switch(t[0]){case"=":t.shift(),e.tag=Number(t.shift());break;case"map":if(e.type="map",e.map={from:null,to:null},t.shift(),"<"!==t[0])throw new Error("Unexpected token in map type: "+t[0]);if(t.shift(),e.map.from=t.shift(),","!==t[0])throw new Error("Unexpected token in map type: "+t[0]);if(t.shift(),e.map.to=t.shift(),">"!==t[0])throw new Error("Unexpected token in map type: "+t[0]);t.shift(),e.name=t.shift();break;case"repeated":case"required":case"optional":var n=t.shift();e.required="required"===n,e.repeated="repeated"===n,e.type=t.shift(),e.name=t.shift();break;case"[":e.options=i(t);break;case";":if(null===e.name)throw new Error("Missing field name");if(null===e.type)throw new Error("Missing type in message field: "+e.name);if(-1===e.tag)throw new Error("Missing tag number in message field: "+e.name);return t.shift(),e;default:throw new Error("Unexpected token in message field: "+t[0])}throw new Error("No ; found for message field")},s=function(t){for(var e={enums:[],messages:[],fields:[],extends:[],extensions:null};t.length;)switch(t[0]){case"map":case"repeated":case"optional":case"required":e.fields.push(u(t));break;case"enum":e.enums.push(d(t));break;case"message":e.messages.push(a(t));break;case"extensions":e.extensions=c(t);break;case"oneof":t.shift();var n=t.shift();if("{"!==t[0])throw new Error("Unexpected token in oneof: "+t[0]);for(t.shift();"}"!==t[0];){t.unshift("optional");var r=u(t);r.oneof=n,e.fields.push(r)}t.shift();break;case"extend":e.extends.push(f(t));break;case";":t.shift();break;case"reserved":case"option":for(t.shift();";"!==t[0];)t.shift();break;default:t.unshift("optional"),e.fields.push(u(t))}return e},f=function(t){return{name:t[1],message:a(t)}},c=function(t){t.shift();var e=Number(t.shift());if(isNaN(e))throw new Error("Invalid from in extensions definition");if("to"!==t.shift())throw new Error("Expected keyword 'to' in extensions definition");var n=t.shift();if("max"===n&&(n=536870911),n=Number(n),isNaN(n))throw new Error("Invalid to in extensions definition");if(";"!==t.shift())throw new Error("Missing ; in extensions definition");return{from:e,to:n}},a=function(t){t.shift();var e=1,n=[],r={name:t.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("{"===t[0]?e++:"}"===t[0]&&e--,!e)return t.shift(),n=s(n),r.enums=n.enums,r.messages=n.messages,r.fields=n.fields,r.extends=n.extends,r.extensions=n.extensions,r;n.push(t.shift())}if(e)throw new Error("No closing tag for message")},l=function(t){t.shift();var e=t.shift();if(";"!==t[0])throw new Error("Expected ; but found "+t[0]);return t.shift(),e},p=function(t){if(t.shift(),"="!==t[0])throw new Error("Expected = but found "+t[0]);t.shift();var e=t.shift();switch(e){case'"proto2"':e=2;break;case'"proto3"':e=3;break;default:throw new Error("Expected protobuf syntax version but found "+e)}if(";"!==t[0])throw new Error("Expected ; but found "+t[0]);return t.shift(),e},h=function(t){if(t.length<4)throw new Error("Invalid enum value: "+t.slice(0,3).join(" "));if("="!==t[1])throw new Error("Expected = but found "+t[1]);if(";"!==t[3]&&"["!==t[3])throw new Error("Expected ; or [ but found "+t[1]);var e=t.shift();t.shift();var n={value:null,options:{}};return n.value=Number(t.shift()),"["===t[0]&&(n.options=i(t)),t.shift(),{name:e,val:n}},d=function(t){t.shift();var e={},n={name:t.shift(),values:{},options:{}};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),n;if("option"!==t[0]){var r=h(t);n.values[r.name]=r.val}else e=y(t),n.options[e.name]=e.value}throw new Error("No closing tag for enum")},y=function(t){for(var e=null,n=null,r=function(t){return"true"===t||"false"!==t&&t.replace(/^"+|"+$/gm,"")};t.length;){if(";"===t[0])return t.shift(),{name:e,value:n};switch(t[0]){case"option":t.shift();var o="("===t[0];if(o&&t.shift(),e=t.shift(),o){if(")"!==t[0])throw new Error("Expected ) but found "+t[0]);t.shift()}"."===t[0][0]&&(e+=t.shift());break;case"=":if(t.shift(),null===e)throw new Error("Expected key for option with value: "+t[0]);if(n=r(t.shift()),"optimize_for"===e&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(n))throw new Error("Unexpected value for option optimize_for: "+n);"{"===n&&(n=m(t));break;default:throw new Error("Unexpected token in option: "+t[0])}}},m=function t(e){for(var n=function(t){return"true"===t||"false"!==t&&t.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var o="("===e[0];o&&e.shift();var i=e.shift();if(o){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var u=null;switch(e[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(u=n(e.shift()))&&(u=t(e)),r[i]=u,";"===e[0]&&e.shift();break;case"{":if(e.shift(),u=t(e),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(u);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},v=function(t){t.shift();var e=t.shift().replace(/^"+|"+$/gm,"");if(";"!==t[0])throw new Error("Unexpected token: "+t[0]+'. Expected ";"');return t.shift(),e},b=function(t){t.shift();var e={name:t.shift(),methods:[],options:{}};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),e;switch(t[0]){case"option":var n=y(t);if(void 0!==e.options[n.name])throw new Error("Duplicate option "+n.name);e.options[n.name]=n.value;break;case"rpc":e.methods.push(g(t));break;default:throw new Error("Unexpected token in service: "+t[0])}}throw new Error("No closing tag for service")},g=function(t){t.shift();var e={name:t.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==t[0])throw new Error("Expected ( but found "+t[0]);if(t.shift(),"stream"===t[0]&&(t.shift(),e.client_streaming=!0),e.input_type=t.shift(),")"!==t[0])throw new Error("Expected ) but found "+t[0]);if(t.shift(),"returns"!==t[0])throw new Error("Expected returns but found "+t[0]);if(t.shift(),"("!==t[0])throw new Error("Expected ( but found "+t[0]);if(t.shift(),"stream"===t[0]&&(t.shift(),e.server_streaming=!0),e.output_type=t.shift(),")"!==t[0])throw new Error("Expected ) but found "+t[0]);if(t.shift(),";"===t[0])return t.shift(),e;if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),e;if("option"!==t[0])throw new Error("Unexpected token in rpc options: "+t[0]);var n=y(t);if(void 0!==e.options[n.name])throw new Error("Duplicate option "+n.name);e.options[n.name]=n.value}throw new Error("No closing tag for rpc")};t.exports=function(t){for(var e=r(t.toString()),n=0;n<e.length;n++){var i;if(/^("|')([^'"]*)$/.test(e[n]))for(i=1===e[n].length?n+1:n;i<e.length;i++)if(/^([^'"]*)("|')$/.test(e[i])){e=e.slice(0,n).concat(e.slice(n,i+1).join("")).concat(e.slice(i+1));break}}for(var u={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;e.length;){switch(e[0]){case"package":u.package=l(e);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");u.syntax=p(e);break;case"message":u.messages.push(a(e));break;case"enum":u.enums.push(d(e));break;case"option":var c=y(e);if(u.options[c.name])throw new Error("Duplicate option "+c.name);u.options[c.name]=c.value;break;case"import":u.imports.push(v(e));break;case"extend":u.extends.push(f(e));break;case"service":u.services||(u.services=[]),u.services.push(b(e));break;default:throw new Error("Unexpected token: "+e[0])}s=!1}return u.extends.forEach(function(t){u.messages.forEach(function(e){e.name===t.name&&t.message.fields.forEach(function(t){if(!e.extensions||t.tag<e.extensions.from||t.tag>e.extensions.to)throw new Error(e.name+" does not declare "+t.tag+" as an extension number");e.fields.push(t)})})}),u.messages.forEach(function(t){t.fields.forEach(function(e){var n,r,i,s;if(e.options&&"true"===e.options.packed&&-1===o.indexOf(e.type)){if(-1===e.type.indexOf(".")){if(t.enums&&t.enums.some(function(t){return t.name===e.type}))return}else{if((n=e.type.split(".")).length>2)throw new Error("what is this?");if(r=n[0],i=n[1],u.messages.some(function(t){if(t.name===r)return s=t,t}),s&&s.enums&&s.enums.some(function(t){return t.name===i}))return}throw new Error("Fields of type "+e.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),u}},function(t,e,n){"use strict";t.exports=function(t){var e,n=function(t){return t.trim()};return t.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map(function(t){var e=t.indexOf("//");return e>-1?t.slice(0,e):t}).map(n).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((e=!1,function(t){return"/*"===t?(e=!0,!1):"*/"===t?(e=!1,!1):!e}))}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(t,e){var n=t.repeated?"repeated":t.required?"required":"optional";"map"===t.type&&(n="map<"+t.map.from+","+t.map.to+">"),t.oneof&&(n="");var r=Object.keys(t.options||{}).map(function(e){return e+" = "+t.options[e]}).join(",");return r&&(r=" ["+r+"]"),e.push((n?n+" ":"")+("map"===t.map?"":t.type+" ")+t.name+" = "+t.tag+r+";"),e},i=function(t,e){e.push("enum "+t.name+" {"),t.options||(t.options={});var n=s(t.options,[]);return n.length>1&&e.push(n.slice(0,-1)),Object.keys(t.values).map(function(n){var r=u(t.values[n]);e.push([n+" = "+r+";"])}),e.push("}",""),e},u=function(t,e){var n=Object.keys(t.options||{}).map(function(e){return e+" = "+t.options[e]}).join(",");return n&&(n=" ["+n+"]"),t.value+n},s=function(t,e){var n=Object.keys(t);return n.forEach(function(n){var o=t[n];~n.indexOf(".")&&(n="("+n+")");var i=r(o);"object"===i?(o=f(o,[])).length&&e.push("option "+n+" = {",o,"};"):("string"===i&&"optimize_for"!==n&&(o='"'+o+'"'),e.push("option "+n+" = "+o+";"))}),n.length>0&&e.push(""),e},f=function t(e,n){return Object.keys(e).forEach(function(o){var i=e[o],u=r(i);"object"===u?Array.isArray(i)?i.forEach(function(e){(e=t(e,[])).length&&n.push(o+" {",e,"}")}):(i=t(i,[])).length&&n.push(o+" {",i,"}"):("string"===u&&(i='"'+i+'"'),n.push(o+": "+i))}),n},c=function(t,e){var n="rpc "+t.name+"(";t.client_streaming&&(n+="stream "),n+=t.input_type+") returns (",t.server_streaming&&(n+="stream "),n+=t.output_type+")",t.options||(t.options={});var r=s(t.options,[]);return r.length>1?e.push(n+" {",r.slice(0,-1),"}"):e.push(n+";"),e};t.exports=function(t){var e=[];return e.push('syntax = "proto'+t.syntax+'";',""),t.package&&e.push("package "+t.package+";",""),t.options||(t.options={}),s(t.options,e),t.enums||(t.enums=[]),t.enums.forEach(function(t){i(t,e)}),t.messages||(t.messages=[]),t.messages.forEach(function(t){!function t(e,n){n.push("message "+e.name+" {"),e.enums||(e.enums=[]),e.enums.forEach(function(t){n.push(i(t,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(e){n.push(t(e,[]))});var r={};return e.fields||(e.fields=[]),e.fields.forEach(function(t){t.oneof?(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(o(t,[]))):n.push(o(t,[]))}),Object.keys(r).forEach(function(t){r[t].unshift("oneof "+t+" {"),r[t].push("}"),n.push(r[t])}),n.push("}",""),n}(t,e)}),t.services&&t.services.forEach(function(t){!function(t,e){e.push("service "+t.name+" {"),t.options||(t.options={}),s(t.options,e),t.methods||(t.methods=[]),t.methods.forEach(function(t){e.push(c(t,[]))}),e.push("}","")}(t,e)}),e.map(function t(e){return function(n){return Array.isArray(n)?n.map(t(e+"  ")).join("\n"):e+n}}("")).join("\n")}},function(t,e,n){"use strict";var r=n(115),o=n(117),i=n(118),u=n(119),s=n(0);t.exports=function(t,e){var n={},f={},c={};!function t(e,r){e.enums&&e.enums.forEach(function(e){e.id=r+(r?".":"")+e.name,f[e.id]=e,t(e,e.id)}),e.messages&&e.messages.forEach(function(o){o.id=r+(r?".":"")+o.name,n[o.id]=o,o.fields.forEach(function(t){if(t.map){var o="Map_"+t.map.from+"_"+t.map.to,i={name:o,enums:[],messages:[],fields:[{name:"key",type:t.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:t.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:r+(r?".":"")+o};n[i.id]||(n[i.id]=i,e.messages.push(i)),t.type=o,t.repeated=!0}}),t(o,o.id)})}(t,"");var a=function(t,e){t.messages.forEach(function(n){e[n.name]=l(n.name,t.id)}),t.enums.forEach(function(t){e[t.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(n){e[n]=t[n].value}),e}(t.values)}),e.type=2,e.message=!0,e.name=t.name;var n={};t.fields.forEach(function(t){t.oneof&&(n[t.oneof]||(n[t.oneof]=[]),n[t.oneof].push(t.name))});var r=t.fields.map(function(e){return l(e.type,t.id)}),s=u(t,r,n),f=i(t,l,r,n,s),c=o(t,l,r);return f.bytes=c.bytes=0,e.buffer=!0,e.encode=f,e.decode=c,e.encodingLength=s,e},l=function(t,o,i){if(e&&e[t])return e[t];if(r[t])return r[t];var u,l,p=(o?o+"."+t:t).split(".").map(function(e,n,r){return r.slice(0,n).concat(t).join(".")}).reverse().reduce(function(t,e){return t||n[e]||f[e]},null);if(!1===i)return p;if(!p)throw new Error("Could not resolve "+t);return p.values?(u=p,l=Object.keys(u.values||[]).map(function(t){return parseInt(u.values[t].value,10)}),r.make(0,function t(e,n,r){if(!l.length||-1===l.indexOf(e))throw new Error("Invalid enum value: "+e);return s.encode(e,n,r),t.bytes=s.encode.bytes,n},function t(e,n){var r=s.decode(e,n);if(!l.length||-1===l.indexOf(r))throw new Error("Invalid enum value: "+r);return t.bytes=s.decode.bytes,r},s.encodingLength)):c[p.id]||a(p,c[p.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(t){return l(t.id)}))}},function(t,e,n){"use strict";var r,o=n(0),i=n(116),u=n(11).Buffer,s=function(t,e,n,r){return e.bytes=n.bytes=0,{type:t,encode:e,decode:n,encodingLength:r}};e.make=s,e.bytes=(r=function(t){return u.isBuffer(t)?t.length:u.byteLength(t)},s(2,function t(e,n,i){var s=i,f=r(e);return o.encode(f,n,i),i+=o.encode.bytes,u.isBuffer(e)?e.copy(n,i):n.write(e,i,f),t.bytes=(i+=f)-s,n},function t(e,n){var r=n,i=o.decode(e,n);n+=o.decode.bytes;var u=e.slice(n,n+i);return n+=u.length,t.bytes=n-r,u},function(t){var e=r(t);return o.encodingLength(e)+e})),e.string=s(2,function t(e,n,r){var i=r,s=u.byteLength(e);return o.encode(s,n,r,"utf-8"),r+=o.encode.bytes,n.write(e,r,s),t.bytes=(r+=s)-i,n},function t(e,n){var r=n,i=o.decode(e,n);n+=o.decode.bytes;var u=e.toString("utf-8",n,n+i);return t.bytes=(n+=i)-r,u},function(t){var e=u.byteLength(t);return o.encodingLength(e)+e}),e.bool=s(0,function t(e,n,r){return n[r]=e?1:0,t.bytes=1,n},function t(e,n){var r=e[n]>0;return t.bytes=1,r},function(t){return 1}),e.int32=s(0,o.encode,function t(e,n){var r=o.decode(e,n);return t.bytes=o.decode.bytes,r>2147483647?r-4294967296:r},function(t){return o.encodingLength(t<0?t+4294967296:t)}),e.int64=s(0,function t(e,n,r){if(e<0){var i=r+9;for(o.encode(-1*e,n,r),n[r+=o.encode.bytes-1]=128|n[r];r<i-1;)n[++r]=255;n[i]=1,t.bytes=10}else o.encode(e,n,r),t.bytes=o.encode.bytes;return n},function t(e,n){var r=o.decode(e,n);if(r>=Math.pow(2,63)){for(var i=9;255===e[n+i-1];)i--;i=i||9;var s=u.allocUnsafe(i);e.copy(s,0,n,n+i),s[i-1]=127&s[i-1],r=-1*o.decode(s,0),t.bytes=10}else t.bytes=o.decode.bytes;return r},function(t){return t<0?10:o.encodingLength(t)}),e.sint32=e.sint64=s(0,i.encode,i.decode,i.encodingLength),e.uint32=e.uint64=e.enum=e.varint=s(0,o.encode,o.decode,o.encodingLength),e.fixed64=e.sfixed64=s(1,function t(e,n,r){return e.copy(n,r),t.bytes=8,n},function t(e,n){var r=e.slice(n,n+8);return t.bytes=8,r},function(t){return 8}),e.double=s(1,function t(e,n,r){return n.writeDoubleLE(e,r),t.bytes=8,n},function t(e,n){var r=e.readDoubleLE(n);return t.bytes=8,r},function(t){return 8}),e.fixed32=s(5,function t(e,n,r){return n.writeUInt32LE(e,r),t.bytes=4,n},function t(e,n){var r=e.readUInt32LE(n);return t.bytes=4,r},function(t){return 4}),e.sfixed32=s(5,function t(e,n,r){return n.writeInt32LE(e,r),t.bytes=4,n},function t(e,n){var r=e.readInt32LE(n);return t.bytes=4,r},function(t){return 4}),e.float=s(5,function t(e,n,r){return n.writeFloatLE(e,r),t.bytes=4,n},function t(e,n){var r=e.readFloatLE(n);return t.bytes=4,r},function(t){return 4})},function(t,e,n){"use strict";var r=n(0);e.encode=function t(e,n,o){e=e>=0?2*e:-2*e-1;var i=r.encode(e,n,o);return t.bytes=r.encode.bytes,i},e.decode=function t(e,n){var o=r.decode(e,n);return t.bytes=r.decode.bytes,1&o?(o+1)/-2:o/2},e.encodingLength=function(t){return r.encodingLength(t>=0?2*t:-2*t-1)}},function(t,e,n){"use strict";var r=n(0),o=n(15).defined;var i=function(t,e,n){switch(t){case 0:return r.decode(e,n),n+r.decode.bytes;case 1:return n+8;case 2:var o=r.decode(e,n);return n+r.decode.bytes+o;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4;default:throw new Error("Unknown wire type: "+t)}},u=function(t,e){if(t.map)return{};if(t.repeated)return[];switch(t.type){case"string":return null!=e?e:"";case"bool":return"true"===e;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e||0,10);default:return null}};t.exports=function(t,e,n){for(var s=[],f={},c=[],a=[],l=0;l<n.length;l++){var p=t.fields[l];f[p.tag]=l;var h=p.options&&p.options.default,d=e(p.type,t.id,!1);a[l]=[h,d&&d.values],t.fields[l].packed=p.repeated&&p.options&&p.options.packed&&"false"!==p.options.packed,p.required&&s.push(p.name),p.oneof&&c.push(p.name)}function y(t,e,n,o,i,u){var s=e.name;if(e.oneof)for(var f=Object.keys(n),a=0;a<f.length;a++)c.indexOf(f[a])>-1&&delete n[f[a]];if(t.message){var l=r.decode(o,i);i+=r.decode.bytes;var p=t.decode(o,i,i+l);e.map?(n[s]=n[s]||{},n[s][p.key]=p.value):e.repeated?(n[s]=n[s]||[],n[s].push(p)):n[s]=p}else e.repeated?(n[s]=n[s]||[],n[s].push(t.decode(o,i))):n[s]=t.decode(o,i);return i+=t.decode.bytes}return function e(l,p,h){if(null==p&&(p=0),null==h&&(h=l.length),!(h<=l.length&&p<=l.length))throw new Error("Decoded message is not valid");for(var d,m=p,v={};;){if(h<=p){var b,g,w="",E=0;for(E=0;E<s.length;E++)if(w=s[E],!o(v[w]))throw new Error("Decoded message is not valid, missing required field: "+w);for(E=0;E<n.length;E++)if(d=t.fields[E],g=a[E][0],b=a[E][1],w=d.name,!o(v[w])){var x=!1;if(d.oneof)for(var _=Object.keys(v),S=0;S<_.length;S++)if(c.indexOf(_[S])>-1){x=!0;break}x||(b?d.repeated?v[w]=[]:(g=g&&b[g]?b[g].value:b[Object.keys(b)[0]].value,v[w]=parseInt(g||0,10)):v[w]=u(d,g))}return e.bytes=p-m,v}var C=r.decode(l,p);p+=r.decode.bytes;var k=f[C>>3];if(null!=k){var O=n[k];if((d=t.fields[k]).packed){var j=r.decode(l,p);for(j+=p+=r.decode.bytes;p<j;)p=y(O,d,v,l,p)}else p=y(O,d,v,l,p)}else p=i(7&C,l,p)}}}},function(t,e,n){"use strict";(function(e){var r=n(15).defined,o=n(0);t.exports=function(t,n,i,u,s){for(var f=Object.keys(u),c=i.length,a={},l=0;l<c;l++){a[l]={p:o.encode(t.fields[l].tag<<3|2),h:o.encode(t.fields[l].tag<<3|i[l].type)};var p=t.fields[l];t.fields[l].packed=p.repeated&&p.options&&p.options.packed&&"false"!==p.options.packed}function h(t,e,n,r,i,u){var s=0;if(!i)for(s=0;s<n.length;s++)t[e++]=n[s];return r.message&&(o.encode(r.encodingLength(u),t,e),e+=o.encode.bytes),r.encode(u,t,e),e+r.encode.bytes}return function n(l,p,d){null==d&&(d=0),null==p&&(p=e.allocUnsafe(s(l)));var y=d,m=Object.keys(l),v=0,b=!1;for(v=0;v<f.length;v++){var g=f[v],w=u[v];if(m.indexOf(w)>-1){if(b)throw new Error("only one of the properties defined in oneof "+g+" can be set");b=!0}}for(v=0;v<c;v++){var E=i[v],x=t.fields[v],_=l[x.name],S=0;if(r(_)){var C,k=a[v].p,O=a[v].h,j=x.packed;if(x.map){var A=Object.keys(_);for(S=0;S<A.length;S++)A[S]={key:A[S],value:_[A[S]]};_=A}if(j){var T=0;for(S=0;S<_.length;S++)r(_[S])&&(T+=E.encodingLength(_[S]));if(T){for(S=0;S<O.length;S++)p[d++]=k[S];o.encode(T,p,d),d+=o.encode.bytes}}if(x.repeated)for(S=0;S<_.length;S++)C=_[S],r(C)&&(d=h(p,d,O,E,j,C));else d=h(p,d,O,E,j,_)}else if(x.required)throw new Error(x.name+" is required")}return n.bytes=d-y,p}}}).call(this,n(5).Buffer)},function(t,e,n){"use strict";var r=n(15).defined,o=n(0);t.exports=function(t,e,n){for(var i=Object.keys(n),u=e.length,s=new Array(u),f=0;f<t.fields.length;f++){s[f]=o.encodingLength(t.fields[f].tag<<3|e[f].type);var c=t.fields[f];t.fields[f].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}return function(f){var c=0,a=0,l=0;for(a=0;a<i.length;a++){var p=i[a],h=n[p],d=!1;for(l=0;l<h.length;l++)if(r(f[h[l]])){if(d)throw new Error("only one of the properties defined in oneof "+p+" can be set");d=!0}}for(a=0;a<u;a++){var y,m=e[a],v=t.fields[a],b=f[v.name],g=s[a];if(r(b)){if(v.map){var w=Object.keys(b);for(l=0;l<w.length;l++)w[l]={key:w[l],value:b[w[l]]};b=w}if(v.packed){var E=0;for(l=0;l<b.length;l++)r(b[l])&&(E+=y=m.encodingLength(b[l]),m.message&&(E+=o.encodingLength(y)));E&&(c+=g+E+o.encodingLength(E))}else if(v.repeated)for(l=0;l<b.length;l++)r(b[l])&&(c+=g+(y=m.encodingLength(b[l]))+(m.message?o.encodingLength(y):0));else c+=g+(y=m.encodingLength(b))+(m.message?o.encodingLength(y):0)}else if(v.required)throw new Error(v.name+" is required")}return c}}},function(t,e,n){"use strict";t.exports="\nmessage RPC {\n  repeated SubOpts subscriptions = 1;\n  repeated Message msgs = 2;\n\n  message SubOpts {\n    optional bool subscribe = 1; // subscribe or unsubcribe\n    optional string topicCID = 2;\n  }\n\n  message Message {\n    optional bytes from = 1;\n    optional bytes data = 2;\n    optional bytes seqno = 3;\n    repeated string topicIDs = 4; \n  }\n}"},function(t,e,n){"use strict";t.exports="\n// topicCID = cid(merkledag_protobuf(topicDescriptor)); (not the topic.name)\nmessage TopicDescriptor {\n  optional string name = 1;\n  optional AuthOpts auth = 2;\n  optional EncOpts enc = 2;\n\n  message AuthOpts {\n    optional AuthMode mode = 1;\n    repeated bytes keys = 2; // root keys to trust\n\n    enum AuthMode {\n      NONE = 0; // no authentication, anyone can publish\n      KEY = 1; // only messages signed by keys in the topic descriptor are accepted\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\n    }\n  }\n\n  message EncOpts {\n    optional EncMode mode = 1;\n    repeated bytes keyHashes = 2; // the hashes of the shared keys used (salted)\n\n    enum EncMode {\n      NONE = 0; // no encryption, anyone can read\n      SHAREDKEY = 1; // messages are encrypted with shared key\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\n    }\n  }\n}"},function(t,e,n){"use strict";(function(r,o){Object.defineProperty(e,"__esModule",{value:!0});var i,u=n(10);i=u.hasNextTick?r.nextTick:u.hasSetImmediate?o:u.fallback,e.default=(0,u.wrap)(i),t.exports=e.default}).call(this,n(4),n(30).setImmediate)}])});
//# sourceMappingURL=index.min.js.map