{
  "_args": [
    [
      "../freedom-for-data",
      "/home/ptoner/repos/fantasybaseballleague"
    ]
  ],
  "_from": "../freedom-for-data",
  "_id": "freedom-for-data@0.2.0",
  "_inCache": true,
  "_installable": true,
  "_location": "/freedom-for-data",
  "_phantomChildren": {},
  "_requested": {
    "name": null,
    "raw": "../freedom-for-data",
    "rawSpec": "../freedom-for-data",
    "scope": null,
    "spec": "/home/ptoner/repos/freedom-for-data",
    "type": "directory"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "file:../freedom-for-data",
  "_shasum": "fbb458b4093c8e6a4aabe49b405c88c06e041161",
  "_shrinkwrap": null,
  "_spec": "../freedom-for-data",
  "_where": "/home/ptoner/repos/fantasybaseballleague",
  "author": {
    "name": "Patrick Toner"
  },
  "bugs": {
    "url": "https://github.com/ptoner/freedom-for-data/issues"
  },
  "dependencies": {
    "buffer": "5.2.1",
    "ipfs-http-client": "27.0.0",
    "truffle-contract": "3.0.6"
  },
  "description": "An easy to use Ethereum/IPFS data storage library.",
  "devDependencies": {
    "@babel/core": "7.2.2",
    "@babel/plugin-proposal-class-properties": "7.2.3",
    "@babel/polyfill": "7.2.3",
    "@babel/preset-env": "7.2.3",
    "babel-plugin-add-module-exports": "1.0.0",
    "babelify": "10.0.0",
    "browserify": "16.2.3",
    "dotenv": "6.2.0",
    "ganache-cli": "6.1.8",
    "truffle": "beta",
    "truffle-hdwallet-provider": "1.0.3",
    "uglifyify": "5.0.1"
  },
  "files": [
    "build/contracts/RecordService.json",
    "package.json",
    "src/*"
  ],
  "gitHead": "704a7e0cb889784a91f84936ad2a6551f4ca8a27",
  "homepage": "https://github.com/ptoner/freedom-for-data#readme",
  "license": "MIT",
  "main": "index.js",
  "name": "freedom-for-data",
  "optionalDependencies": {},
  "readme": "[![Build Status](https://travis-ci.org/ptoner/freedom-for-data.svg?branch=ci-setup)](https://travis-ci.org/ptoner/freedom-for-data)\n\n# freedom-for-data\nAn easy to use javascript library to read and write Ethereum and IPFS data. Can be used with Node.js or in a DApp-enabled browser.\n\n## About\n**freedom-for-data** uses a simple, reusable pattern to tie data in an Ethereum smart contract to data stored in IPFS.  Transactional data is stored in Ethereum while everything else is stored in IPFS. \n\nThe goal is to help DApp developers abstract these details away and create a simple mechanism to programmaticaly store and access large amounts of data. It makes communicating with a DApp feel like using other REST endpoint. \n\nOver time the Ethereum/IPFS implementation details can evolve and all the CRUD DApps we build won't be coupled so tightly to the rapidly changing implementation details.\n\n# Installation\n\n### Clone repo and install \n```console\ngit clone https://github.com/ptoner/freedom-for-data.git\n\ncd freedom-for-data\n\nnpm install -g\n```\n\n\n### Install truffle\n```console\nnpm install -g truffle@5.0.0 \n```\n\n### Install ganache\nThis is fake blockchain you run on your own machine. This is optional but makes development faster.\n\n[Instructions](https://truffleframework.com/ganache)\n\n### Start ganache\nThis will depend on your system. See the instructions in the link above.\n\n### Install IPFS\nThis is where your JSON data will be stored.\n\n[Instructions](https://docs.ipfs.io/introduction/install/)\n\n### Run IPFS daemon\n```console\nipfs daemon\n```\n\n### Run tests\nInside the freedom-for-data root directory:\n```console\nnpm run test\n```\n\n# How to use\n\n## Using the distributable version in a browser\n### Note: You can find the contract addresses by running 'truffle migrate'.\n```html\n<script src=\"js/freedom-for-data.js\"></script>\n<script>\n    const freedom = await Freedom({ \n      ipfsHost: 'localhost', \n      ipfsPort: '5001',\n      recordContractAddress: \"<YOUR CONTRACT ADDRESS HERE>\",\n      recordContractTransactionHash: \"<YOUR CONTRACT TRANSACTION HASH HERE>\"\n    });  \n</script>\n```\n\n\n\n\n## Create a record\n```javascript\n\n//The repoId we're saving to. Note: will make this nicer\nlet PLAYER_REPO = 1;\n\n//Create a javascript object with data you want to save.\nlet createdRecord = {\n    firstName: \"Andrew\",\n    lastName: \"McCutchen\"\n}\n\n//Call the 'create' function\nlet result = await freedom.create(PLAYER_REPO, createdRecord);\n\n\n/**\n* Example result\n* \n{ id: 1,                                                            # id:        Generated by smart contract\n  eventType: 'NEW',                                                 # eventType: NEW\n  repoId: 1,                                                        # repoId:    The id of the repo this record is associated with. Stored in Ethereum.\n  ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',     # ipfsCid:   Generated by IPFS. \n  owner: '...your address....',                                     # owner:     Saved in smart contract    \n  firstName: 'Andrew',                                              # firstName: Stored in IPFS.\n  lastName: 'McCutchen'                                             # lastName:  Stored in IPFS.    \n}\n*/\n```\n\n## Read a record by id\n```javascript\n\n//Pass the id created above to the read function. The id was 1.\nlet record = await freedom.read(PLAYER_REPO, 1);\n\n/**\n* Example record\n* \n{ id: 1,                                                            # id:        Generated by smart contract\n  repoId: 1,                                                        # repoId:    The id of the repo this record is associated with. Stored in Ethereum.\n  ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',     # ipfsCid:   Generated by IPFS. \n  owner: '...your address....',                                     # owner:     Saved in smart contract    \n  firstName: 'Andrew',                                              # firstName: Stored in IPFS.\n  lastName: 'McCutchen'                                             # lastName:  Stored in IPFS.    \n}\n*/\n```\n\n## Count records in repo\n```javascript\nlet count = await freedom.count(PLAYER_REPO);\n\n/**\n * 'count' is a number. \n * It's the total number of records in the supplied repo.\n * \n```\n\n## Count the records created by an address in repo\n```javascript\nlet count = await freedom.countOwned(PLAYER_REPO, '0x1E950C631065885d76b21311905acD02c14Aa07E');\n\n/**\n * 'count' is a number. \n * It's the total number of records in the supplied repo that were created by your address.\n * \n```\n\n\n\n## Read a record by index\n```javascript\n\n//We've created one player record. Indexing begins at 0. \nlet record = await freedom.readByIndex(PLAYER_REPO, 0);\n\n/**\n* Example record. This is the same record as the above example.\n* \n{ id: 1,                                                            # id:        Generated by smart contract\n  repoId: 1,                                                        # repoId:    The id of the repo this record is associated with. Stored in Ethereum.\n  ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',     # ipfsCid:   Generated by IPFS. \n  owner: '...your address....',                                     # owner:     Saved in smart contract    \n  firstName: 'Andrew',                                              # firstName: Stored in IPFS.\n  lastName: 'McCutchen'                                             # lastName:  Stored in IPFS.    \n}\n*/\n\n\n```\n\n## Read the records you own, by index\n```javascript\n//readByIndex gives all objects in the repo. readByOwnedIndex() will give you\n//just the records that were created by an address. \nlet record = await freedom.readByOwnedIndex(PLAYER_REPO, '0x1E950C631065885d76b21311905acD02c14Aa07E', 0);\n\n/**\n* Example record. This is the same record as the above example.\n* \n{ id: 1,                                                            # id:        Generated by smart contract\n  repoId: 1,                                                        # repoId:    The id of the repo this record is associated with. Stored in Ethereum.\n  ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',     # ipfsCid:   Generated by IPFS. \n  owner: '...your address....',                                     # owner:     Saved in smart contract    \n  firstName: 'Andrew',                                              # firstName: Stored in IPFS.\n  lastName: 'McCutchen'                                             # lastName:  Stored in IPFS.    \n}\n*/\n\n\n```\n\n\n\n## Update a record\n```javascript\n\n// Record 1 in the player repo is Andrew McCutchen. Change the first name to Charlie and the last name to Morton.\nlet record = {\n    firstName: \"Charlie\",      \n    lastName: \"Morton\"\n}\n\n// Update it in ethereum and IPFS.\nawait freedom.update( PLAYER_REPO, 1, record)\n\n// Get it by ID. It will list Charlie Morton.\nlet updatedRecord = await freedom.read(PLAYER_REPO, 1);\n\n/**\n * Example updatedRecord. What actually happened is that we saved a new file in IPFS and updated the\n * ethereum record to point to it. \n    { \n        id: 1,\n        owner: '...your address...',\n        ipfsCid: 'zdpuAmRyFGYaKdVmEH3uwqzjv8RdSJmnrABkaSizvAu9JBivG',\n        repoId: 1,\n        lastName: 'Morton',\n        firstName: 'Charlie' }\n * \n */ \n\n```\n\n## Get a paged list of records. Includes records created by everyone.\n```javascript\n\n//This example will get the first 2 records from the list.\nlet offset = 0;  # The index where we want to start reading. The first record is 0. \nlet limit = 2;  # The number of records to return.\n\nlet recordList = await freedom.readList(PLAYER_REPO, limit, offset);\n\n\n/**\n * Example recordList\n * \n * \n * [ \n    * { \n    *       id: 1,\n            owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n            ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',\n            repoId: 1,\n            lastName: 'McCutchen',\n            firstName: 'Andrew' \n        },\n        { \n            id: 2,\n            owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n            ipfsCid: 'zdpuAmZw9bUAufGj4rRddtn6Fu1JDkQqt99rJmDerq1z4B1gL',\n            repoId: 1,            \n            lastName: 'Melancon',\n            firstName: 'Mark' \n        }\n    ]\n * \n */\n\n```\n\n## Get the same list but in descending order, by date created. Includes records created by everyone.\n```javascript\n\n//This example will get the first 2 records from the list.\nlet offset = 0;  # The index where we want to start reading. The first record is 0. \nlet limit = 2;  # The number of records to return.\n\nlet recordList = await freedom.readListDescending(PLAYER_REPO, limit, offset);\n\n\n/**\n * Example recordList\n * \n * \n * [ \n * \n       { \n           id: 2,\n           owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n           ipfsCid: 'zdpuAmZw9bUAufGj4rRddtn6Fu1JDkQqt99rJmDerq1z4B1gL',\n           repoId: 1,            \n           lastName: 'Melancon',\n           firstName: 'Mark' \n       }\n       { \n           id: 1,\n           owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n           ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',\n           repoId: 1,\n           lastName: 'McCutchen',\n           firstName: 'Andrew' \n        }\n    ]\n * \n */\n\n```\n\n\n\n\n\n## Get a paged list of records created by an address. Only includes records created by the passed address. \n```javascript\n\n//This example will get the first 2 records from the list.\nlet offset = 0;  # The index where we want to start reading. The first record is 0. \nlet limit = 2;  # The number of records to return.\n\nlet recordList = await freedom.readOwnedList(PLAYER_REPO, '0x1E950C631065885d76b21311905acD02c14Aa07E', limit, offset);\n\n\n/**\n * Example recordList\n * \n * \n * [ \n    * { \n    *       id: 1,\n            owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n            ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',\n            repoId: 1,\n            lastName: 'McCutchen',\n            firstName: 'Andrew' \n        },\n        { \n            id: 2,\n            owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n            ipfsCid: 'zdpuAmZw9bUAufGj4rRddtn6Fu1JDkQqt99rJmDerq1z4B1gL',\n            repoId: 1,            \n            lastName: 'Melancon',\n            firstName: 'Mark' \n        }\n    ]\n * \n */\n\n```\n\n\n\n## Get the same list but in descending order, by date created. Only includes records created by the passed address. \n```javascript\n\n//This example will get the first 2 records from the list.\nlet offset = 0;  # The index where we want to start reading. The first record is 0. \nlet limit = 2;  # The number of records to return.\n\nlet recordList = await freedom.readOwnedListDescending(PLAYER_REPO, '0x1E950C631065885d76b21311905acD02c14Aa07E', limit, offset);\n\n\n/**\n * Example recordList\n * \n * \n * [ \n *    {   \n           id: 2,\n           owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n           ipfsCid: 'zdpuAmZw9bUAufGj4rRddtn6Fu1JDkQqt99rJmDerq1z4B1gL',\n           repoId: 1,            \n           lastName: 'Melancon',\n           firstName: 'Mark' \n       }\n    * { \n    *       id: 1,\n            owner: '0x1E950C631065885d76b21311905acD02c14Aa07E',\n            ipfsCid: 'zdpuB31DmfwJYHi9FJPoSqLf9fepy6o2qcdk88t9w395b78iT',\n            repoId: 1,\n            lastName: 'McCutchen',\n            firstName: 'Andrew' \n        }\n    ]\n * \n */\n\n```\n\n\n# API\n\n* create(repoId, data, transactionObject)\n* createWithIpfsCid(repodId, ipfsCid, transactionObject)\n* read(repoId, id)\n* update(repoId, id, data, transactionObject)\n\n* readByIndex(repoId, index)\n* readList(repoId, limit, offset)\n* readListDescending(repoId, limit, offset)\n\n* readByOwnedIndex(repoId, address, index)\n* readOwnedList(repoId, address, limit, offset)\n* readOwnedListDescending(repoId, address, limit, offset)\n\n* count(repoId)\n* countOwned(repoId)\n\n* ipfsPutFile(file, options)\n* ipfsGetFile(cid)\n\n\n\n\n\n\n\n# Configurable\n* IPFS gateway is configurable. You can have this be a setting chosen by the user in your app. \n    - It assumes localhost by default. \n\n\n## Tradeoffs You Make\n* Anything you put in IPFS can theoretically be lost. \n    - If you are creating a financial transaction that is dependent on this data, this probably isn't the right pattern to use.\n    \n* You'll probably have to pay for IPFS hosting. \n    - Eventually I think this can be done via coin and the DApp itself can be in charge of paying for it. I'm not sure how feasible that is yet.\n\n* There's some centralization risk in IPFS unless you make an effort (paid, probably) to get others to host the files. This should be mitigated over time.\n\n* Probably really slow if talking directly to the main Ethereum network.\n\n\n\n### Includes \n\n* Solidity smart contract that provides a simple CRUD service to store records. \n\n* Ethereum will store:\n    * The ID that was generated.\n    * The IPFS cid where your actual data lives.\n    * Which contract owns the record, if applicable.\n\n    This keeps gas costs low. \n\n\n* IPFS will contain:\n    * A JSON representation of your data. \n\n* Your actual javascript app (React, Angular, whatever) won't care that it's dealing with a DApp.\n    - The js files can also be deployed to IPFS.\n\n* Makes very simple requests that can be used in your own DApps. \n\n\n### Project Structure\n\n* **/contracts** - Solidity smart contracts\n    * RecordService.sol - The primary Solidity contract that provides externally accessible create/read/update functions. \n\n* **/src** - The javascript library\n    * **freedom-service.js** - This is the javascript class you'll get when you require() the library in your web app. Its job is to orchestrate the Ethereum and IPFS calls. It's injected with an object that can talk to the RecordService contract and an object that can talk to IPFS.\n\n    * **record-service.js** - This javascript class is responsible for communicating with the RecordService.sol smart contract.\n\n    * **ipfs-service.js** - This javascript class is responsible for communicating with IPFS.\n\n* **/test** - Unit tests for record-service.js, ipfs-service.js, and integration tests using data-access-service.js\n\n\n# Examples\nWe're working on an app that uses freedom-for-data to store data. \n[Large](https://github.com/ptoner/large)\n\n\n\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/ptoner/freedom-for-data.git"
  },
  "scripts": {
    "build": "./src/build-scripts/build.sh",
    "test": "truffle test"
  },
  "version": "0.2.0"
}
